{
  "id": "622ee310-f12a-4ba2-9d4b-685f47d33444",
  "prevId": "3d6636d6-a1c0-4386-bdd6-26a285cb2432",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.base_group_permissions": {
      "name": "base_group_permissions",
      "schema": "",
      "columns": {
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "group_permissions_group_id_idx": {
          "name": "group_permissions_group_id_idx",
          "columns": [
            {
              "expression": "group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "group_permissions_permission_id_idx": {
          "name": "group_permissions_permission_id_idx",
          "columns": [
            {
              "expression": "permission_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_group_permissions_group_id_base_user_permission_groups_id_fk": {
          "name": "base_group_permissions_group_id_base_user_permission_groups_id_fk",
          "tableFrom": "base_group_permissions",
          "tableTo": "base_user_permission_groups",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_group_permissions_permission_id_base_path_permissions_id_fk": {
          "name": "base_group_permissions_permission_id_base_path_permissions_id_fk",
          "tableFrom": "base_group_permissions",
          "tableTo": "base_path_permissions",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "base_group_permissions_group_id_permission_id_pk": {
          "name": "base_group_permissions_group_id_permission_id_pk",
          "columns": [
            "group_id",
            "permission_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_invitation_codes": {
      "name": "base_invitation_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "max_uses": {
          "name": "max_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": -1
        },
        "used_count": {
          "name": "used_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "unique_invitation_code": {
          "name": "unique_invitation_code",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "invitation_codes_organisation_id_idx": {
          "name": "invitation_codes_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "invitation_codes_expires_at_idx": {
          "name": "invitation_codes_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_invitation_codes_organisation_id_base_organisations_id_fk": {
          "name": "base_invitation_codes_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_invitation_codes",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_magic_link_sessions": {
      "name": "base_magic_link_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "purpose": {
          "name": "purpose",
          "type": "magic_link_purpose",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'login'"
        }
      },
      "indexes": {
        "unique_token": {
          "name": "unique_token",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "magic_link_sessions_user_id_idx": {
          "name": "magic_link_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "magic_link_sessions_expires_at_idx": {
          "name": "magic_link_sessions_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_magic_link_sessions_user_id_base_users_id_fk": {
          "name": "base_magic_link_sessions_user_id_base_users_id_fk",
          "tableFrom": "base_magic_link_sessions",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_organisation_invitations": {
      "name": "base_organisation_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "organisation_member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_invitation": {
          "name": "unique_invitation",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "invitations_status_idx": {
          "name": "invitations_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "invitations_created_at_idx": {
          "name": "invitations_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "invitations_email_idx": {
          "name": "invitations_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_organisation_invitations_organisation_id_base_organisations_id_fk": {
          "name": "base_organisation_invitations_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_organisation_invitations",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_organisation_members": {
      "name": "base_organisation_members",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "organisation_member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "organisation_members_user_id_idx": {
          "name": "organisation_members_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "organisation_members_organisation_id_idx": {
          "name": "organisation_members_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_organisation_members_user_id_base_users_id_fk": {
          "name": "base_organisation_members_user_id_base_users_id_fk",
          "tableFrom": "base_organisation_members",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_organisation_members_organisation_id_base_organisations_id_fk": {
          "name": "base_organisation_members_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_organisation_members",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "base_organisation_members_user_id_organisation_id_pk": {
          "name": "base_organisation_members_user_id_organisation_id_pk",
          "columns": [
            "user_id",
            "organisation_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_organisations": {
      "name": "base_organisations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organisations_name_idx": {
          "name": "organisations_name_idx",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_path_permissions": {
      "name": "base_path_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "system": {
          "name": "system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "category": {
          "name": "category",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "permission_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'regex'"
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "path_expression": {
          "name": "path_expression",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "permissions_method_idx": {
          "name": "permissions_method_idx",
          "columns": [
            {
              "expression": "method",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "permissions_type_idx": {
          "name": "permissions_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_path_permissions_organisation_id_base_organisations_id_fk": {
          "name": "base_path_permissions_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_path_permissions",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_category_name": {
          "name": "unique_category_name",
          "nullsNotDistinct": false,
          "columns": [
            "category",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_sessions": {
      "name": "base_sessions",
      "schema": "",
      "columns": {
        "session_token": {
          "name": "session_token",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_expires_idx": {
          "name": "sessions_expires_idx",
          "columns": [
            {
              "expression": "expires",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_sessions_user_id_base_users_id_fk": {
          "name": "base_sessions_user_id_base_users_id_fk",
          "tableFrom": "base_sessions",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_team_members": {
      "name": "base_team_members",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "team_member_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "base_team_members_user_id_base_users_id_fk": {
          "name": "base_team_members_user_id_base_users_id_fk",
          "tableFrom": "base_team_members",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_team_members_team_id_base_teams_id_fk": {
          "name": "base_team_members_team_id_base_teams_id_fk",
          "tableFrom": "base_team_members",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "base_team_members_user_id_team_id_pk": {
          "name": "base_team_members_user_id_team_id_pk",
          "columns": [
            "user_id",
            "team_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_teams": {
      "name": "base_teams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "base_teams_organisation_id_base_organisations_id_fk": {
          "name": "base_teams_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_teams",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "teams_name_idx": {
          "name": "teams_name_idx",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_user_group_members": {
      "name": "base_user_group_members",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_groups_id": {
          "name": "user_groups_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "base_user_group_members_user_id_base_users_id_fk": {
          "name": "base_user_group_members_user_id_base_users_id_fk",
          "tableFrom": "base_user_group_members",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_user_group_members_user_groups_id_base_user_permission_groups_id_fk": {
          "name": "base_user_group_members_user_groups_id_base_user_permission_groups_id_fk",
          "tableFrom": "base_user_group_members",
          "tableTo": "base_user_permission_groups",
          "columnsFrom": [
            "user_groups_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "base_user_group_members_user_id_user_groups_id_pk": {
          "name": "base_user_group_members_user_id_user_groups_id_pk",
          "columns": [
            "user_id",
            "user_groups_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_user_permission_groups": {
      "name": "base_user_permission_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_permission_groups_name_idx": {
          "name": "user_permission_groups_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_permission_groups_created_at_idx": {
          "name": "user_permission_groups_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_user_permission_groups_organisation_id_base_organisations_id_fk": {
          "name": "base_user_permission_groups_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_user_permission_groups",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_users": {
      "name": "base_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider": {
          "name": "provider",
          "type": "user_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'local'"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "salt": {
          "name": "salt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "firstname": {
          "name": "firstname",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "surname": {
          "name": "surname",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number_verified": {
          "name": "phone_number_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "phone_number_as_number": {
          "name": "phone_number_as_number",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "phone_pin_number": {
          "name": "phone_pin_number",
          "type": "varchar(6)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ext_user_id": {
          "name": "ext_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image": {
          "name": "profile_image",
          "type": "bytea",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_name": {
          "name": "profile_image_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_content_type": {
          "name": "profile_image_content_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_organisation_id": {
          "name": "last_organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_email": {
          "name": "unique_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_phone_number": {
          "name": "unique_phone_number",
          "columns": [
            {
              "expression": "phone_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_phone_number_as_number": {
          "name": "unique_phone_number_as_number",
          "columns": [
            {
              "expression": "phone_number_as_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_created_at_idx": {
          "name": "users_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_updated_at_idx": {
          "name": "users_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_email_verified_idx": {
          "name": "users_email_verified_idx",
          "columns": [
            {
              "expression": "email_verified",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_users_last_organisation_id_base_organisations_id_fk": {
          "name": "base_users_last_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_users",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "last_organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_secrets": {
      "name": "base_secrets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "reference": {
          "name": "reference",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "reference_id": {
          "name": "reference_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "secrets_idx": {
          "name": "secrets_idx",
          "columns": [
            {
              "expression": "reference_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "secrets_ref_idx": {
          "name": "secrets_ref_idx",
          "columns": [
            {
              "expression": "reference",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "secrets_ref_id_idx": {
          "name": "secrets_ref_id_idx",
          "columns": [
            {
              "expression": "reference_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "secrets_name_idx": {
          "name": "secrets_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "secrets_type_idx": {
          "name": "secrets_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_secrets_organisation_id_base_organisations_id_fk": {
          "name": "base_secrets_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_secrets",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "secrets_reference_name_idx": {
          "name": "secrets_reference_name_idx",
          "nullsNotDistinct": false,
          "columns": [
            "reference",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_files": {
      "name": "base_files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bucket": {
          "name": "bucket",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "extension": {
          "name": "extension",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file": {
          "name": "file",
          "type": "bytea",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "chat_id": {
          "name": "chat_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "files_id_idx": {
          "name": "files_id_idx",
          "columns": [
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "files_bucket_name_idx": {
          "name": "files_bucket_name_idx",
          "columns": [
            {
              "expression": "bucket",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "files_created_at_idx": {
          "name": "files_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "files_updated_at_idx": {
          "name": "files_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "files_name_idx": {
          "name": "files_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "files_expires_at_idx": {
          "name": "files_expires_at_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "files_chat_id_idx": {
          "name": "files_chat_id_idx",
          "columns": [
            {
              "expression": "chat_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "files_workspace_id_idx": {
          "name": "files_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_files_organisation_id_base_organisations_id_fk": {
          "name": "base_files_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_files",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_files_chat_id_base_chat_sessions_id_fk": {
          "name": "base_files_chat_id_base_chat_sessions_id_fk",
          "tableFrom": "base_files",
          "tableTo": "base_chat_sessions",
          "columnsFrom": [
            "chat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_files_workspace_id_base_workspaces_id_fk": {
          "name": "base_files_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_files",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_embeddings": {
      "name": "base_embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_table": {
          "name": "source_table",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_number": {
          "name": "order_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "section": {
          "name": "section",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_model": {
          "name": "embedding_model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "text_embedding": {
          "name": "text_embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "embeddings_source_table_index": {
          "name": "embeddings_source_table_index",
          "columns": [
            {
              "expression": "source_table",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "embeddings_source_id_index": {
          "name": "embeddings_source_id_index",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "embeddings_order_idx": {
          "name": "embeddings_order_idx",
          "columns": [
            {
              "expression": "order_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_embeddings_organisation_id_base_organisations_id_fk": {
          "name": "base_embeddings_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_embeddings",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_active_subscriptions": {
      "name": "base_active_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan_name": {
          "name": "plan_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_start": {
          "name": "current_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "cancel_at_period_end": {
          "name": "cancel_at_period_end",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "stripe_customer_id_plan_name_index": {
          "name": "stripe_customer_id_plan_name_index",
          "columns": [
            {
              "expression": "stripe_customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "plan_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "active_subscriptions_status_idx": {
          "name": "active_subscriptions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "active_subscriptions_created_at_idx": {
          "name": "active_subscriptions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "active_subscriptions_updated_at_idx": {
          "name": "active_subscriptions_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "active_subscriptions_cancel_at_period_end_idx": {
          "name": "active_subscriptions_cancel_at_period_end_idx",
          "columns": [
            {
              "expression": "cancel_at_period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "active_subscriptions_current_period_start_idx": {
          "name": "active_subscriptions_current_period_start_idx",
          "columns": [
            {
              "expression": "current_period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "active_subscriptions_current_period_end_idx": {
          "name": "active_subscriptions_current_period_end_idx",
          "columns": [
            {
              "expression": "current_period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "active_subscriptions_user_id_idx": {
          "name": "active_subscriptions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_active_subscriptions_user_id_base_users_id_fk": {
          "name": "base_active_subscriptions_user_id_base_users_id_fk",
          "tableFrom": "base_active_subscriptions",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "stripeCustomerIdPlanName": {
          "name": "stripeCustomerIdPlanName",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_customer_id",
            "plan_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_products": {
      "name": "base_products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "group": {
          "name": "group",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "purchase_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "prod_id": {
          "name": "prod_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price_id": {
          "name": "price_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "products_group_idx": {
          "name": "products_group_idx",
          "columns": [
            {
              "expression": "group",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_name_idx": {
          "name": "products_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "products_type_idx": {
          "name": "products_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "products_prod_id_price_id_idx": {
          "name": "products_prod_id_price_id_idx",
          "nullsNotDistinct": false,
          "columns": [
            "prod_id",
            "price_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_purchases": {
      "name": "base_purchases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "purchase_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "purchase_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "used": {
          "name": "used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_name": {
          "name": "product_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "purchases_created_at_idx": {
          "name": "purchases_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchases_updated_at_idx": {
          "name": "purchases_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchases_user_id_idx": {
          "name": "purchases_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchases_status_idx": {
          "name": "purchases_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchases_type_idx": {
          "name": "purchases_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchases_used_idx": {
          "name": "purchases_used_idx",
          "columns": [
            {
              "expression": "used",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "purchases_product_name_idx": {
          "name": "purchases_product_name_idx",
          "columns": [
            {
              "expression": "product_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_purchases_user_id_base_users_id_fk": {
          "name": "base_purchases_user_id_base_users_id_fk",
          "tableFrom": "base_purchases",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_app_specific_data": {
      "name": "base_app_specific_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "app_data_created_at_idx": {
          "name": "app_data_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_data_version_idx": {
          "name": "app_data_version_idx",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "base_app_specific_data_key_unique": {
          "name": "base_app_specific_data_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_organisation_specific_data": {
      "name": "base_organisation_specific_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "organisation_data_key_idx": {
          "name": "organisation_data_key_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "organisation_data_created_at_idx": {
          "name": "organisation_data_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "organisation_data_version_idx": {
          "name": "organisation_data_version_idx",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_organisation_specific_data_organisation_id_base_organisations_id_fk": {
          "name": "base_organisation_specific_data_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_organisation_specific_data",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "base_organisation_specific_data_organisation_id_category_unique": {
          "name": "base_organisation_specific_data_organisation_id_category_unique",
          "nullsNotDistinct": false,
          "columns": [
            "organisation_id",
            "category"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_team_specific_data": {
      "name": "base_team_specific_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "team_data_key_idx": {
          "name": "team_data_key_idx",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "team_data_created_at_idx": {
          "name": "team_data_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "team_data_version_idx": {
          "name": "team_data_version_idx",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_team_specific_data_team_id_base_teams_id_fk": {
          "name": "base_team_specific_data_team_id_base_teams_id_fk",
          "tableFrom": "base_team_specific_data",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "base_team_specific_data_team_id_key_unique": {
          "name": "base_team_specific_data_team_id_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "team_id",
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_user_specific_data": {
      "name": "base_user_specific_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_data_type_idx": {
          "name": "user_data_type_idx",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_data_created_at_idx": {
          "name": "user_data_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_data_version_idx": {
          "name": "user_data_version_idx",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_user_specific_data_user_id_base_users_id_fk": {
          "name": "base_user_specific_data_user_id_base_users_id_fk",
          "tableFrom": "base_user_specific_data",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "base_user_specific_data_user_id_key_unique": {
          "name": "base_user_specific_data_user_id_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_prompt_snippets": {
      "name": "base_prompt_snippets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_wide": {
          "name": "organisation_wide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prompt_snippets_name_idx": {
          "name": "prompt_snippets_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_snippets_category_idx": {
          "name": "prompt_snippets_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_snippets_user_id_idx": {
          "name": "prompt_snippets_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_prompt_snippets_user_id_base_users_id_fk": {
          "name": "base_prompt_snippets_user_id_base_users_id_fk",
          "tableFrom": "base_prompt_snippets",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_prompt_snippets_organisation_id_base_organisations_id_fk": {
          "name": "base_prompt_snippets_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_prompt_snippets",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_prompt_snippets_team_id_base_teams_id_fk": {
          "name": "base_prompt_snippets_team_id_base_teams_id_fk",
          "tableFrom": "base_prompt_snippets",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prompt_snippets_name_category_idx": {
          "name": "prompt_snippets_name_category_idx",
          "nullsNotDistinct": false,
          "columns": [
            "name",
            "category"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "prompt_snippets_name_min_length": {
          "name": "prompt_snippets_name_min_length",
          "value": "length(name) > 0"
        },
        "prompt_snippets_content_min_length": {
          "name": "prompt_snippets_content_min_length",
          "value": "length(content) > 0"
        },
        "prompt_snippets_content_max_length": {
          "name": "prompt_snippets_content_max_length",
          "value": "length(content) <= 10000"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_prompt_template_knowledge_entries": {
      "name": "base_prompt_template_knowledge_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "prompt_template_id": {
          "name": "prompt_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge_entry_id": {
          "name": "knowledge_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prompt_template_knowledge_entries_prompt_id_idx": {
          "name": "prompt_template_knowledge_entries_prompt_id_idx",
          "columns": [
            {
              "expression": "prompt_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_template_knowledge_entries_entry_id_idx": {
          "name": "prompt_template_knowledge_entries_entry_id_idx",
          "columns": [
            {
              "expression": "knowledge_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_prompt_template_knowledge_entries_prompt_template_id_base_prompt_templates_id_fk": {
          "name": "base_prompt_template_knowledge_entries_prompt_template_id_base_prompt_templates_id_fk",
          "tableFrom": "base_prompt_template_knowledge_entries",
          "tableTo": "base_prompt_templates",
          "columnsFrom": [
            "prompt_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_prompt_template_knowledge_entries_knowledge_entry_id_base_knowledge_entry_id_fk": {
          "name": "base_prompt_template_knowledge_entries_knowledge_entry_id_base_knowledge_entry_id_fk",
          "tableFrom": "base_prompt_template_knowledge_entries",
          "tableTo": "base_knowledge_entry",
          "columnsFrom": [
            "knowledge_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prompt_template_knowledge_entry_unique": {
          "name": "prompt_template_knowledge_entry_unique",
          "nullsNotDistinct": false,
          "columns": [
            "prompt_template_id",
            "knowledge_entry_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_prompt_template_knowledge_filters": {
      "name": "base_prompt_template_knowledge_filters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "prompt_template_id": {
          "name": "prompt_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge_filter_id": {
          "name": "knowledge_filter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prompt_template_knowledge_filters_prompt_id_idx": {
          "name": "prompt_template_knowledge_filters_prompt_id_idx",
          "columns": [
            {
              "expression": "prompt_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_template_knowledge_filters_filter_id_idx": {
          "name": "prompt_template_knowledge_filters_filter_id_idx",
          "columns": [
            {
              "expression": "knowledge_filter_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_prompt_template_knowledge_filters_prompt_template_id_base_prompt_templates_id_fk": {
          "name": "base_prompt_template_knowledge_filters_prompt_template_id_base_prompt_templates_id_fk",
          "tableFrom": "base_prompt_template_knowledge_filters",
          "tableTo": "base_prompt_templates",
          "columnsFrom": [
            "prompt_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_prompt_template_knowledge_filters_knowledge_filter_id_base_knowledge_filters_id_fk": {
          "name": "base_prompt_template_knowledge_filters_knowledge_filter_id_base_knowledge_filters_id_fk",
          "tableFrom": "base_prompt_template_knowledge_filters",
          "tableTo": "base_knowledge_filters",
          "columnsFrom": [
            "knowledge_filter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prompt_template_knowledge_filter_unique": {
          "name": "prompt_template_knowledge_filter_unique",
          "nullsNotDistinct": false,
          "columns": [
            "prompt_template_id",
            "knowledge_filter_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_prompt_template_knowledge_groups": {
      "name": "base_prompt_template_knowledge_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "prompt_template_id": {
          "name": "prompt_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge_group_id": {
          "name": "knowledge_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prompt_template_knowledge_groups_prompt_id_idx": {
          "name": "prompt_template_knowledge_groups_prompt_id_idx",
          "columns": [
            {
              "expression": "prompt_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_template_knowledge_groups_group_id_idx": {
          "name": "prompt_template_knowledge_groups_group_id_idx",
          "columns": [
            {
              "expression": "knowledge_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_prompt_template_knowledge_groups_prompt_template_id_base_prompt_templates_id_fk": {
          "name": "base_prompt_template_knowledge_groups_prompt_template_id_base_prompt_templates_id_fk",
          "tableFrom": "base_prompt_template_knowledge_groups",
          "tableTo": "base_prompt_templates",
          "columnsFrom": [
            "prompt_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_prompt_template_knowledge_groups_knowledge_group_id_base_knowledge_group_id_fk": {
          "name": "base_prompt_template_knowledge_groups_knowledge_group_id_base_knowledge_group_id_fk",
          "tableFrom": "base_prompt_template_knowledge_groups",
          "tableTo": "base_knowledge_group",
          "columnsFrom": [
            "knowledge_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prompt_template_knowledge_group_unique": {
          "name": "prompt_template_knowledge_group_unique",
          "nullsNotDistinct": false,
          "columns": [
            "prompt_template_id",
            "knowledge_group_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_prompt_template_placeholder_examples": {
      "name": "base_prompt_template_placeholder_examples",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "placeholder_id": {
          "name": "placeholder_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "placeholder_examples_placeholder_id_idx": {
          "name": "placeholder_examples_placeholder_id_idx",
          "columns": [
            {
              "expression": "placeholder_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_prompt_template_placeholder_examples_placeholder_id_base_prompt_template_placeholders_id_fk": {
          "name": "base_prompt_template_placeholder_examples_placeholder_id_base_prompt_template_placeholders_id_fk",
          "tableFrom": "base_prompt_template_placeholder_examples",
          "tableTo": "base_prompt_template_placeholders",
          "columnsFrom": [
            "placeholder_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "prompt_template_placeholder_examples_value_min_length": {
          "name": "prompt_template_placeholder_examples_value_min_length",
          "value": "length(value) > 0"
        },
        "prompt_template_placeholder_examples_value_max_length": {
          "name": "prompt_template_placeholder_examples_value_max_length",
          "value": "length(value) <= 10000"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_prompt_template_placeholders": {
      "name": "base_prompt_template_placeholders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "prompt_template_id": {
          "name": "prompt_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "description": {
          "name": "description",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "type": {
          "name": "type",
          "type": "prompt_template_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'text'"
        },
        "required_by_user": {
          "name": "required_by_user",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_value": {
          "name": "default_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hidden": {
          "name": "hidden",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "prompt_template_id_idx": {
          "name": "prompt_template_id_idx",
          "columns": [
            {
              "expression": "prompt_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_prompt_template_placeholders_prompt_template_id_base_prompt_templates_id_fk": {
          "name": "base_prompt_template_placeholders_prompt_template_id_base_prompt_templates_id_fk",
          "tableFrom": "base_prompt_template_placeholders",
          "tableTo": "base_prompt_templates",
          "columnsFrom": [
            "prompt_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "prompt_template_placeholders_name_min_length": {
          "name": "prompt_template_placeholders_name_min_length",
          "value": "length(name) > 0"
        },
        "prompt_template_placeholders_label_min_length": {
          "name": "prompt_template_placeholders_label_min_length",
          "value": "length(label) > 0"
        },
        "prompt_template_placeholders_description_max_length": {
          "name": "prompt_template_placeholders_description_max_length",
          "value": "length(description) <= 10000"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_prompt_templates": {
      "name": "base_prompt_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "description": {
          "name": "description",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "category": {
          "name": "category",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_prompt": {
          "name": "user_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lang_code": {
          "name": "lang_code",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hidden": {
          "name": "hidden",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "needs_initial_call": {
          "name": "needs_initial_call",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "llm_options": {
          "name": "llm_options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "tools": {
          "name": "tools",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "deploy_as_tool": {
          "name": "deploy_as_tool",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prompt_templates_name_idx": {
          "name": "prompt_templates_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_templates_type_idx": {
          "name": "prompt_templates_type_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_templates_user_id_idx": {
          "name": "prompt_templates_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompt_templates_lang_code_idx": {
          "name": "prompt_templates_lang_code_idx",
          "columns": [
            {
              "expression": "lang_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_prompt_templates_user_id_base_users_id_fk": {
          "name": "base_prompt_templates_user_id_base_users_id_fk",
          "tableFrom": "base_prompt_templates",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_prompt_templates_organisation_id_base_organisations_id_fk": {
          "name": "base_prompt_templates_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_prompt_templates",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "prompt_templates_name_category_idx": {
          "name": "prompt_templates_name_category_idx",
          "nullsNotDistinct": false,
          "columns": [
            "name",
            "category",
            "organisation_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "prompt_templates_name_min_length": {
          "name": "prompt_templates_name_min_length",
          "value": "length(name) > 0"
        },
        "prompt_templates_category_min_length": {
          "name": "prompt_templates_category_min_length",
          "value": "length(category) > 0"
        },
        "prompt_templates_system_prompt_min_length": {
          "name": "prompt_templates_system_prompt_min_length",
          "value": "length(system_prompt) > 0"
        },
        "prompt_templates_system_prompt_max_length": {
          "name": "prompt_templates_system_prompt_max_length",
          "value": "length(system_prompt) <= 50000"
        },
        "prompt_templates_user_prompt_max_length": {
          "name": "prompt_templates_user_prompt_max_length",
          "value": "length(user_prompt) <= 50000"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_knowledge_fine_tuning_data": {
      "name": "base_knowledge_fine_tuning_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "knowledge_entry_id": {
          "name": "knowledge_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "knowledge_fine_tuning_entry_id_idx": {
          "name": "knowledge_fine_tuning_entry_id_idx",
          "columns": [
            {
              "expression": "knowledge_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_fine_tuning_entry_name_idx": {
          "name": "knowledge_fine_tuning_entry_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_fine_tuning_entry_category_idx": {
          "name": "knowledge_fine_tuning_entry_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_fine_tuning_entry_organisation_id_idx": {
          "name": "knowledge_fine_tuning_entry_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_fine_tuning_entry_team_id_idx": {
          "name": "knowledge_fine_tuning_entry_team_id_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_fine_tuning_entry_user_id_idx": {
          "name": "knowledge_fine_tuning_entry_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_fine_tuning_entry_workspace_id_idx": {
          "name": "knowledge_fine_tuning_entry_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_fine_tuning_data_organisation_id_base_organisations_id_fk": {
          "name": "base_knowledge_fine_tuning_data_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_knowledge_fine_tuning_data",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_fine_tuning_data_team_id_base_teams_id_fk": {
          "name": "base_knowledge_fine_tuning_data_team_id_base_teams_id_fk",
          "tableFrom": "base_knowledge_fine_tuning_data",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_fine_tuning_data_user_id_base_users_id_fk": {
          "name": "base_knowledge_fine_tuning_data_user_id_base_users_id_fk",
          "tableFrom": "base_knowledge_fine_tuning_data",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_fine_tuning_data_workspace_id_base_workspaces_id_fk": {
          "name": "base_knowledge_fine_tuning_data_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_knowledge_fine_tuning_data",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_fine_tuning_data_knowledge_entry_id_base_knowledge_entry_id_fk": {
          "name": "base_knowledge_fine_tuning_data_knowledge_entry_id_base_knowledge_entry_id_fk",
          "tableFrom": "base_knowledge_fine_tuning_data",
          "tableTo": "base_knowledge_entry",
          "columnsFrom": [
            "knowledge_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "knowledge_fine_tuning_answer_max_length": {
          "name": "knowledge_fine_tuning_answer_max_length",
          "value": "length(answer) <= 10000"
        },
        "knowledge_fine_tuning_question_max_length": {
          "name": "knowledge_fine_tuning_question_max_length",
          "value": "length(question) <= 10000"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_knowledge_chunks": {
      "name": "base_knowledge_chunks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "knowledge_entry_id": {
          "name": "knowledge_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "header": {
          "name": "header",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "embedding_model": {
          "name": "embedding_model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "text_embedding": {
          "name": "text_embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "knowledge_chunks_knowledge_entry_id_idx": {
          "name": "knowledge_chunks_knowledge_entry_id_idx",
          "columns": [
            {
              "expression": "knowledge_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_chunks_created_at_idx": {
          "name": "knowledge_chunks_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_chunks_header_idx": {
          "name": "knowledge_chunks_header_idx",
          "columns": [
            {
              "expression": "header",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_chunks_knowledge_entry_id_base_knowledge_entry_id_fk": {
          "name": "base_knowledge_chunks_knowledge_entry_id_base_knowledge_entry_id_fk",
          "tableFrom": "base_knowledge_chunks",
          "tableTo": "base_knowledge_entry",
          "columnsFrom": [
            "knowledge_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_knowledge_entry": {
      "name": "base_knowledge_entry",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_owned": {
          "name": "user_owned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "knowledge_group_id": {
          "name": "knowledge_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "file_source_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_external_id": {
          "name": "source_external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_file_bucket": {
          "name": "source_file_bucket",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "parentId": {
          "name": "parentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "abstract": {
          "name": "abstract",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "version_text": {
          "name": "version_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "hidden": {
          "name": "hidden",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledgeentry_name_idx": {
          "name": "knowledgeentry_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parentId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_entry_file_source_type_idx": {
          "name": "knowledge_entry_file_source_type_idx",
          "columns": [
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledgeentry_created_at_idx": {
          "name": "knowledgeentry_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledgeentry_updated_at_idx": {
          "name": "knowledgeentry_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledgeentry_organisation_id_idx": {
          "name": "knowledgeentry_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_entry_team_id_idx": {
          "name": "knowledge_entry_team_id_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_entry_user_id_idx": {
          "name": "knowledge_entry_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_entry_workspace_id_idx": {
          "name": "knowledge_entry_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_entry_source_external_id_idx": {
          "name": "knowledge_entry_source_external_id_idx",
          "columns": [
            {
              "expression": "source_external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_entry_organisation_id_base_organisations_id_fk": {
          "name": "base_knowledge_entry_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_knowledge_entry",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_entry_team_id_base_teams_id_fk": {
          "name": "base_knowledge_entry_team_id_base_teams_id_fk",
          "tableFrom": "base_knowledge_entry",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_entry_user_id_base_users_id_fk": {
          "name": "base_knowledge_entry_user_id_base_users_id_fk",
          "tableFrom": "base_knowledge_entry",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_entry_workspace_id_base_workspaces_id_fk": {
          "name": "base_knowledge_entry_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_knowledge_entry",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_entry_knowledge_group_id_base_knowledge_group_id_fk": {
          "name": "base_knowledge_entry_knowledge_group_id_base_knowledge_group_id_fk",
          "tableFrom": "base_knowledge_entry",
          "tableTo": "base_knowledge_group",
          "columnsFrom": [
            "knowledge_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_entry_parentId_base_knowledge_entry_id_fk": {
          "name": "base_knowledge_entry_parentId_base_knowledge_entry_id_fk",
          "tableFrom": "base_knowledge_entry",
          "tableTo": "base_knowledge_entry",
          "columnsFrom": [
            "parentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "knowledge_entry_description_max_length": {
          "name": "knowledge_entry_description_max_length",
          "value": "length(description) <= 10000"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_knowledge_entry_filters": {
      "name": "base_knowledge_entry_filters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "knowledge_entry_id": {
          "name": "knowledge_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge_filter_id": {
          "name": "knowledge_filter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_entry_filters_entry_id_idx": {
          "name": "knowledge_entry_filters_entry_id_idx",
          "columns": [
            {
              "expression": "knowledge_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_entry_filters_filter_id_idx": {
          "name": "knowledge_entry_filters_filter_id_idx",
          "columns": [
            {
              "expression": "knowledge_filter_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_entry_filters_knowledge_entry_id_base_knowledge_entry_id_fk": {
          "name": "base_knowledge_entry_filters_knowledge_entry_id_base_knowledge_entry_id_fk",
          "tableFrom": "base_knowledge_entry_filters",
          "tableTo": "base_knowledge_entry",
          "columnsFrom": [
            "knowledge_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_entry_filters_knowledge_filter_id_base_knowledge_filters_id_fk": {
          "name": "base_knowledge_entry_filters_knowledge_filter_id_base_knowledge_filters_id_fk",
          "tableFrom": "base_knowledge_entry_filters",
          "tableTo": "base_knowledge_filters",
          "columnsFrom": [
            "knowledge_filter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "knowledge_entry_filter_unique": {
          "name": "knowledge_entry_filter_unique",
          "nullsNotDistinct": false,
          "columns": [
            "knowledge_entry_id",
            "knowledge_filter_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_knowledge_filters": {
      "name": "base_knowledge_filters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_filters_name_type_unique": {
          "name": "knowledge_filters_name_type_unique",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_filters_category_name_idx": {
          "name": "knowledge_filters_category_name_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_filters_organisation_id_base_organisations_id_fk": {
          "name": "base_knowledge_filters_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_knowledge_filters",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_knowledge_group": {
      "name": "base_knowledge_group",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_wide_access": {
          "name": "organisation_wide_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_group_organisation_id_idx": {
          "name": "knowledge_group_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_group_user_id_idx": {
          "name": "knowledge_group_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_group_organisation_id_base_organisations_id_fk": {
          "name": "base_knowledge_group_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_knowledge_group",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_group_user_id_base_users_id_fk": {
          "name": "base_knowledge_group_user_id_base_users_id_fk",
          "tableFrom": "base_knowledge_group",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "knowledge_group_name_org_idx": {
          "name": "knowledge_group_name_org_idx",
          "nullsNotDistinct": false,
          "columns": [
            "name",
            "organisation_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_knowledge_group_team_assignments": {
      "name": "base_knowledge_group_team_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "knowledge_group_id": {
          "name": "knowledge_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_group_team_assignment_knowledge_group_id_idx": {
          "name": "knowledge_group_team_assignment_knowledge_group_id_idx",
          "columns": [
            {
              "expression": "knowledge_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_group_team_assignment_team_id_idx": {
          "name": "knowledge_group_team_assignment_team_id_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_group_team_assignments_knowledge_group_id_base_knowledge_group_id_fk": {
          "name": "base_knowledge_group_team_assignments_knowledge_group_id_base_knowledge_group_id_fk",
          "tableFrom": "base_knowledge_group_team_assignments",
          "tableTo": "base_knowledge_group",
          "columnsFrom": [
            "knowledge_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_group_team_assignments_team_id_base_teams_id_fk": {
          "name": "base_knowledge_group_team_assignments_team_id_base_teams_id_fk",
          "tableFrom": "base_knowledge_group_team_assignments",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "knowledge_group_team_assignment_unique": {
          "name": "knowledge_group_team_assignment_unique",
          "nullsNotDistinct": false,
          "columns": [
            "knowledge_group_id",
            "team_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_knowledge_source": {
      "name": "base_knowledge_source",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "plugin_id": {
          "name": "plugin_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "last_synced": {
          "name": "last_synced",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_hash": {
          "name": "last_hash",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "last_change": {
          "name": "last_change",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "knowledge_entry_id": {
          "name": "knowledge_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_source_entry_id_idx": {
          "name": "knowledge_source_entry_id_idx",
          "columns": [
            {
              "expression": "knowledge_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_source_plugin_id_base_plugins_id_fk": {
          "name": "base_knowledge_source_plugin_id_base_plugins_id_fk",
          "tableFrom": "base_knowledge_source",
          "tableTo": "base_plugins",
          "columnsFrom": [
            "plugin_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_source_knowledge_entry_id_base_knowledge_entry_id_fk": {
          "name": "base_knowledge_source_knowledge_entry_id_base_knowledge_entry_id_fk",
          "tableFrom": "base_knowledge_source",
          "tableTo": "base_knowledge_entry",
          "columnsFrom": [
            "knowledge_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "knowledge_source_plugin_external_id_idx": {
          "name": "knowledge_source_plugin_external_id_idx",
          "nullsNotDistinct": false,
          "columns": [
            "plugin_id",
            "external_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_knowledge_text": {
      "name": "base_knowledge_text",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_wide": {
          "name": "organisation_wide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "knowledge_text_created_at_idx": {
          "name": "knowledge_text_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_text_title_idx": {
          "name": "knowledge_text_title_idx",
          "columns": [
            {
              "expression": "title",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_text_organisation_id_idx": {
          "name": "knowledge_text_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_text_team_id_idx": {
          "name": "knowledge_text_team_id_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_text_user_id_idx": {
          "name": "knowledge_text_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "knowledge_text_workspace_id_idx": {
          "name": "knowledge_text_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_knowledge_text_organisation_id_base_organisations_id_fk": {
          "name": "base_knowledge_text_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_knowledge_text",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_text_team_id_base_teams_id_fk": {
          "name": "base_knowledge_text_team_id_base_teams_id_fk",
          "tableFrom": "base_knowledge_text",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_text_user_id_base_users_id_fk": {
          "name": "base_knowledge_text_user_id_base_users_id_fk",
          "tableFrom": "base_knowledge_text",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_knowledge_text_workspace_id_base_workspaces_id_fk": {
          "name": "base_knowledge_text_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_knowledge_text",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "knowledge_text_text_min_length": {
          "name": "knowledge_text_text_min_length",
          "value": "length(text) > 3"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_jobs": {
      "name": "base_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "job_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "jobs_created_at_idx": {
          "name": "jobs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "jobs_user_id_idx": {
          "name": "jobs_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "jobs_status_idx": {
          "name": "jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_jobs_user_id_base_users_id_fk": {
          "name": "base_jobs_user_id_base_users_id_fk",
          "tableFrom": "base_jobs",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_jobs_organisation_id_base_organisations_id_fk": {
          "name": "base_jobs_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_jobs",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_plugins": {
      "name": "base_plugins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plugin_type": {
          "name": "plugin_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "plugins_created_at_idx": {
          "name": "plugins_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_plugins_organisation_id_base_organisations_id_fk": {
          "name": "base_plugins_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_plugins",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "plugins_name_idx": {
          "name": "plugins_name_idx",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_chat_session_group_assignments": {
      "name": "base_chat_session_group_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "chat_session_group_id": {
          "name": "chat_session_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "chat_session_group_assignments_chat_session_group_id_idx": {
          "name": "chat_session_group_assignments_chat_session_group_id_idx",
          "columns": [
            {
              "expression": "chat_session_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chat_session_group_assignments_user_id_idx": {
          "name": "chat_session_group_assignments_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_chat_session_group_assignments_chat_session_group_id_base_chat_session_groups_id_fk": {
          "name": "base_chat_session_group_assignments_chat_session_group_id_base_chat_session_groups_id_fk",
          "tableFrom": "base_chat_session_group_assignments",
          "tableTo": "base_chat_session_groups",
          "columnsFrom": [
            "chat_session_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_chat_session_group_assignments_user_id_base_users_id_fk": {
          "name": "base_chat_session_group_assignments_user_id_base_users_id_fk",
          "tableFrom": "base_chat_session_group_assignments",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_chat_session_groups": {
      "name": "base_chat_session_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "chat_session_groups_organisation_id_idx": {
          "name": "chat_session_groups_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chat_session_groups_team_id_idx": {
          "name": "chat_session_groups_team_id_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chat_session_groups_workspace_id_idx": {
          "name": "chat_session_groups_workspace_id_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_chat_session_groups_organisation_id_base_organisations_id_fk": {
          "name": "base_chat_session_groups_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_chat_session_groups",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_chat_session_groups_team_id_base_teams_id_fk": {
          "name": "base_chat_session_groups_team_id_base_teams_id_fk",
          "tableFrom": "base_chat_session_groups",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_chat_session_groups_workspace_id_base_workspaces_id_fk": {
          "name": "base_chat_session_groups_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_chat_session_groups",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "chat_session_groups_name_min_length": {
          "name": "chat_session_groups_name_min_length",
          "value": "length(\"name\") >= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_chat_sessions": {
      "name": "base_chat_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "messages": {
          "name": "messages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "chat_session_group_id": {
          "name": "chat_session_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "delete_at": {
          "name": "delete_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "chat_sessions_updated_at_idx": {
          "name": "chat_sessions_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_chat_sessions_user_id_base_users_id_fk": {
          "name": "base_chat_sessions_user_id_base_users_id_fk",
          "tableFrom": "base_chat_sessions",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_chat_sessions_organisation_id_base_organisations_id_fk": {
          "name": "base_chat_sessions_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_chat_sessions",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_chat_sessions_chat_session_group_id_base_chat_session_groups_id_fk": {
          "name": "base_chat_sessions_chat_session_group_id_base_chat_session_groups_id_fk",
          "tableFrom": "base_chat_sessions",
          "tableTo": "base_chat_session_groups",
          "columnsFrom": [
            "chat_session_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "chat_sessions_name_min_length": {
          "name": "chat_sessions_name_min_length",
          "value": "length(\"name\") >= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.base_app_logs": {
      "name": "base_app_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "level": {
          "name": "level",
          "type": "log_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "app_logs_level_idx": {
          "name": "app_logs_level_idx",
          "columns": [
            {
              "expression": "level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_logs_category_idx": {
          "name": "app_logs_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_logs_source_idx": {
          "name": "app_logs_source_idx",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_logs_created_at_idx": {
          "name": "app_logs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_logs_version_idx": {
          "name": "app_logs_version_idx",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "app_logs_organisation_id_idx": {
          "name": "app_logs_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_app_logs_organisation_id_base_organisations_id_fk": {
          "name": "base_app_logs_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_app_logs",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_workspace_chat_groups": {
      "name": "base_workspace_chat_groups",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chat_group_id": {
          "name": "chat_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_chat_groups_workspace_idx": {
          "name": "workspace_chat_groups_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_workspace_chat_groups_workspace_id_base_workspaces_id_fk": {
          "name": "base_workspace_chat_groups_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_workspace_chat_groups",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspace_chat_groups_chat_group_id_base_chat_session_groups_id_fk": {
          "name": "base_workspace_chat_groups_chat_group_id_base_chat_session_groups_id_fk",
          "tableFrom": "base_workspace_chat_groups",
          "tableTo": "base_chat_session_groups",
          "columnsFrom": [
            "chat_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_chat_group_unique": {
          "name": "workspace_chat_group_unique",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "chat_group_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_workspace_chat_sessions": {
      "name": "base_workspace_chat_sessions",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "chat_session_id": {
          "name": "chat_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_chat_sessions_workspace_idx": {
          "name": "workspace_chat_sessions_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_workspace_chat_sessions_workspace_id_base_workspaces_id_fk": {
          "name": "base_workspace_chat_sessions_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_workspace_chat_sessions",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspace_chat_sessions_chat_session_id_base_chat_sessions_id_fk": {
          "name": "base_workspace_chat_sessions_chat_session_id_base_chat_sessions_id_fk",
          "tableFrom": "base_workspace_chat_sessions",
          "tableTo": "base_chat_sessions",
          "columnsFrom": [
            "chat_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_chat_session_unique": {
          "name": "workspace_chat_session_unique",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "chat_session_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_workspace_knowledge_entries": {
      "name": "base_workspace_knowledge_entries",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge_entry_id": {
          "name": "knowledge_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_knowledge_entries_workspace_idx": {
          "name": "workspace_knowledge_entries_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_workspace_knowledge_entries_workspace_id_base_workspaces_id_fk": {
          "name": "base_workspace_knowledge_entries_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_workspace_knowledge_entries",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspace_knowledge_entries_knowledge_entry_id_base_knowledge_entry_id_fk": {
          "name": "base_workspace_knowledge_entries_knowledge_entry_id_base_knowledge_entry_id_fk",
          "tableFrom": "base_workspace_knowledge_entries",
          "tableTo": "base_knowledge_entry",
          "columnsFrom": [
            "knowledge_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_knowledge_entry_unique": {
          "name": "workspace_knowledge_entry_unique",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "knowledge_entry_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_workspace_knowledge_texts": {
      "name": "base_workspace_knowledge_texts",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "knowledge_text_id": {
          "name": "knowledge_text_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_knowledge_texts_workspace_idx": {
          "name": "workspace_knowledge_texts_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_workspace_knowledge_texts_workspace_id_base_workspaces_id_fk": {
          "name": "base_workspace_knowledge_texts_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_workspace_knowledge_texts",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspace_knowledge_texts_knowledge_text_id_base_knowledge_text_id_fk": {
          "name": "base_workspace_knowledge_texts_knowledge_text_id_base_knowledge_text_id_fk",
          "tableFrom": "base_workspace_knowledge_texts",
          "tableTo": "base_knowledge_text",
          "columnsFrom": [
            "knowledge_text_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_knowledge_text_unique": {
          "name": "workspace_knowledge_text_unique",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "knowledge_text_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_workspace_prompt_templates": {
      "name": "base_workspace_prompt_templates",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_template_id": {
          "name": "prompt_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_prompt_templates_workspace_idx": {
          "name": "workspace_prompt_templates_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_workspace_prompt_templates_workspace_id_base_workspaces_id_fk": {
          "name": "base_workspace_prompt_templates_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_workspace_prompt_templates",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspace_prompt_templates_prompt_template_id_base_prompt_templates_id_fk": {
          "name": "base_workspace_prompt_templates_prompt_template_id_base_prompt_templates_id_fk",
          "tableFrom": "base_workspace_prompt_templates",
          "tableTo": "base_prompt_templates",
          "columnsFrom": [
            "prompt_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_prompt_template_unique": {
          "name": "workspace_prompt_template_unique",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "prompt_template_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_workspace_users": {
      "name": "base_workspace_users",
      "schema": "",
      "columns": {
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_users_workspace_idx": {
          "name": "workspace_users_workspace_idx",
          "columns": [
            {
              "expression": "workspace_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_workspace_users_workspace_id_base_workspaces_id_fk": {
          "name": "base_workspace_users_workspace_id_base_workspaces_id_fk",
          "tableFrom": "base_workspace_users",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspace_users_user_id_base_users_id_fk": {
          "name": "base_workspace_users_user_id_base_users_id_fk",
          "tableFrom": "base_workspace_users",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workspace_user_unique": {
          "name": "workspace_user_unique",
          "nullsNotDistinct": false,
          "columns": [
            "workspace_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_workspaces": {
      "name": "base_workspaces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "parentId": {
          "name": "parentId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_organisation_id_idx": {
          "name": "workspace_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_user_id_idx": {
          "name": "workspace_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_team_id_idx": {
          "name": "workspace_team_id_idx",
          "columns": [
            {
              "expression": "team_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workspace_created_at_idx": {
          "name": "workspace_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_workspaces_parentId_base_workspaces_id_fk": {
          "name": "base_workspaces_parentId_base_workspaces_id_fk",
          "tableFrom": "base_workspaces",
          "tableTo": "base_workspaces",
          "columnsFrom": [
            "parentId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspaces_organisation_id_base_organisations_id_fk": {
          "name": "base_workspaces_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_workspaces",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspaces_user_id_base_users_id_fk": {
          "name": "base_workspaces_user_id_base_users_id_fk",
          "tableFrom": "base_workspaces",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_workspaces_team_id_base_teams_id_fk": {
          "name": "base_workspaces_team_id_base_teams_id_fk",
          "tableFrom": "base_workspaces",
          "tableTo": "base_teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_webhooks": {
      "name": "base_webhooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_wide": {
          "name": "organisation_wide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "webhook_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "event": {
          "name": "event",
          "type": "webhook_event",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "webhook_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'POST'"
        },
        "headers": {
          "name": "headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "webhooks_organisation_id_idx": {
          "name": "webhooks_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhooks_name_organisation_id_idx": {
          "name": "webhooks_name_organisation_id_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "webhook_url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_webhooks_user_id_base_users_id_fk": {
          "name": "base_webhooks_user_id_base_users_id_fk",
          "tableFrom": "base_webhooks",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_webhooks_organisation_id_base_organisations_id_fk": {
          "name": "base_webhooks_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_webhooks",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_server_settings": {
      "name": "base_server_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "unique_key": {
          "name": "unique_key",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_ai_provider_models": {
      "name": "base_ai_provider_models",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "input_type": {
          "name": "input_type",
          "type": "ai_provider_model_type[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "output_type": {
          "name": "output_type",
          "type": "ai_provider_model_type[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "max_tokens": {
          "name": "max_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_output_tokens": {
          "name": "max_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint_compatibility": {
          "name": "endpoint_compatibility",
          "type": "ai_provider_model_endpoint_compatibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'openai'"
        },
        "hosting_origin": {
          "name": "hosting_origin",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "uses_internet": {
          "name": "uses_internet",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "system": {
          "name": "system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "show_info_banner": {
          "name": "show_info_banner",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "info_banner_text": {
          "name": "info_banner_text",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "info_banner_color": {
          "name": "info_banner_color",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "'green'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_provider_models_organisation_id_idx": {
          "name": "ai_provider_models_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_ai_provider_models_organisation_id_base_organisations_id_fk": {
          "name": "base_ai_provider_models_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_ai_provider_models",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_provider_model_unique": {
          "name": "ai_provider_model_unique",
          "nullsNotDistinct": false,
          "columns": [
            "organisation_id",
            "provider",
            "model"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_api_tokens": {
      "name": "base_api_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "last_used": {
          "name": "last_used",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "auto_delete": {
          "name": "auto_delete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "api_tokens_user_id_idx": {
          "name": "api_tokens_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_tokens_organisation_id_idx": {
          "name": "api_tokens_organisation_id_idx",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_tokens_auto_delete_idx": {
          "name": "api_tokens_auto_delete_idx",
          "columns": [
            {
              "expression": "auto_delete",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_api_tokens_user_id_base_users_id_fk": {
          "name": "base_api_tokens_user_id_base_users_id_fk",
          "tableFrom": "base_api_tokens",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_api_tokens_organisation_id_base_organisations_id_fk": {
          "name": "base_api_tokens_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_api_tokens",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_tokens_token_idx": {
          "name": "api_tokens_token_idx",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_avatars": {
      "name": "base_avatars",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_wide": {
          "name": "organisation_wide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "base_avatars_organisation_id_base_organisations_id_fk": {
          "name": "base_avatars_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_avatars",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "base_avatars_user_id_base_users_id_fk": {
          "name": "base_avatars_user_id_base_users_id_fk",
          "tableFrom": "base_avatars",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_mcp_servers": {
      "name": "base_mcp_servers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mcp_server_url": {
          "name": "mcp_server_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_secret": {
          "name": "client_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "mcp_servers_created_at_idx": {
          "name": "mcp_servers_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_servers_user_id_idx": {
          "name": "mcp_servers_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_mcp_servers_user_id_base_users_id_fk": {
          "name": "base_mcp_servers_user_id_base_users_id_fk",
          "tableFrom": "base_mcp_servers",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "base_mcp_servers_organisation_id_base_organisations_id_fk": {
          "name": "base_mcp_servers_organisation_id_base_organisations_id_fk",
          "tableFrom": "base_mcp_servers",
          "tableTo": "base_organisations",
          "columnsFrom": [
            "organisation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.base_mcp_tokens": {
      "name": "base_mcp_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mcp_server_id": {
          "name": "mcp_server_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "mcp_tokens_created_at_idx": {
          "name": "mcp_tokens_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_tokens_user_id_idx": {
          "name": "mcp_tokens_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mcp_tokens_mcp_server_id_idx": {
          "name": "mcp_tokens_mcp_server_id_idx",
          "columns": [
            {
              "expression": "mcp_server_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "base_mcp_tokens_user_id_base_users_id_fk": {
          "name": "base_mcp_tokens_user_id_base_users_id_fk",
          "tableFrom": "base_mcp_tokens",
          "tableTo": "base_users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "base_mcp_tokens_mcp_server_id_base_mcp_servers_id_fk": {
          "name": "base_mcp_tokens_mcp_server_id_base_mcp_servers_id_fk",
          "tableFrom": "base_mcp_tokens",
          "tableTo": "base_mcp_servers",
          "columnsFrom": [
            "mcp_server_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.magic_link_purpose": {
      "name": "magic_link_purpose",
      "schema": "public",
      "values": [
        "login",
        "email_verification",
        "password_reset"
      ]
    },
    "public.organisation_invitation_status": {
      "name": "organisation_invitation_status",
      "schema": "public",
      "values": [
        "pending",
        "accepted",
        "declined"
      ]
    },
    "public.organisation_member_role": {
      "name": "organisation_member_role",
      "schema": "public",
      "values": [
        "owner",
        "admin",
        "member"
      ]
    },
    "public.permission_type": {
      "name": "permission_type",
      "schema": "public",
      "values": [
        "regex"
      ]
    },
    "public.team_member_role": {
      "name": "team_member_role",
      "schema": "public",
      "values": [
        "admin",
        "member"
      ]
    },
    "public.user_provider": {
      "name": "user_provider",
      "schema": "public",
      "values": [
        "local",
        "google",
        "microsoft"
      ]
    },
    "public.purchase_status": {
      "name": "purchase_status",
      "schema": "public",
      "values": [
        "succeeded",
        "failed",
        "pending"
      ]
    },
    "public.purchase_type": {
      "name": "purchase_type",
      "schema": "public",
      "values": [
        "payment",
        "subscription"
      ]
    },
    "public.prompt_template_type": {
      "name": "prompt_template_type",
      "schema": "public",
      "values": [
        "text",
        "image"
      ]
    },
    "public.file_source_type": {
      "name": "file_source_type",
      "schema": "public",
      "values": [
        "db",
        "local",
        "url",
        "text",
        "finetuning",
        "plugin",
        "external"
      ]
    },
    "public.job_status": {
      "name": "job_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed"
      ]
    },
    "public.log_level": {
      "name": "log_level",
      "schema": "public",
      "values": [
        "debug",
        "info",
        "warn",
        "error"
      ]
    },
    "public.webhook_event": {
      "name": "webhook_event",
      "schema": "public",
      "values": [
        "chat-output",
        "tool"
      ]
    },
    "public.webhook_method": {
      "name": "webhook_method",
      "schema": "public",
      "values": [
        "POST",
        "GET"
      ]
    },
    "public.webhook_type": {
      "name": "webhook_type",
      "schema": "public",
      "values": [
        "n8n"
      ]
    },
    "public.ai_provider_model_endpoint_compatibility": {
      "name": "ai_provider_model_endpoint_compatibility",
      "schema": "public",
      "values": [
        "openai",
        "anthropic"
      ]
    },
    "public.ai_provider_model_type": {
      "name": "ai_provider_model_type",
      "schema": "public",
      "values": [
        "text",
        "image",
        "audio",
        "embedding"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}